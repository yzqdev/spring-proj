package im.zhaojun.zfile.controller.adminimport cn.dev33.satoken.stp.StpUtilimport cn.hutool.crypto.SecureUtilimport im.zhaojun.zfile.model.dto.SystemConfigDTOimport im.zhaojun.zfile.model.support.ResultBeanimport im.zhaojun.zfile.serviceimport.SystemConfigServiceimport org.springframework.web.bind.annotation.GetMappingimport org.springframework.web.bind.annotation.PostMappingimport org.springframework.web.bind.annotation.RequestMappingimport org.springframework.web.bind.annotation.RestControllerimport javax.annotation.Resource@RestControllerclass LoginController {    @Resource    private val systemConfigService: SystemConfigService? = null    @PostMapping("/doLogin")    fun doLogin(username: String?, password: String?): ResultBean {        val systemConfig: SystemConfigDTO = systemConfigService.getSystemConfig()        if (username == systemConfig.getUsername() && SecureUtil.md5(password) == systemConfig.getPassword()) {            StpUtil.login("admin")            return ResultBean.success("登录成功")        }        return ResultBean.error("登录失败")    }    // 查询登录状态，浏览器访问： http://localhost:8081/user/isLogin    @RequestMapping("isLogin")   fun isLogin(): String{     return   "当前会话是否登录：" + StpUtil.isLogin()   }    @GetMapping("/logout")    fun logout(): ResultBean {        StpUtil.logout()        return ResultBean.success("注销成功")    }}