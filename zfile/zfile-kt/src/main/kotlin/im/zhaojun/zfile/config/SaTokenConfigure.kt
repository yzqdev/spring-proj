package im.zhaojun.zfile.configimport cn.dev33.satoken.context.model.SaRequestimport cn.dev33.satoken.context.model.SaResponseimport cn.dev33.satoken.`fun`.SaFunctionimport cn.dev33.satoken.interceptor.SaRouteInterceptorimport cn.dev33.satoken.router.SaRouterimport cn.dev33.satoken.stp.StpUtilimport org.springframework.context.annotation.Configurationimport org.springframework.web.servlet.config.annotation.InterceptorRegistryimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerimport org.springframework.web.servlet.resource.ResourceHttpRequestHandler/** * sa牌配置 * * @author yanni * @date 2021/11/20 */@Configurationclass SaTokenConfigure : WebMvcConfigurer {    override fun addInterceptors(registry: InterceptorRegistry) {        registry.addInterceptor(SaRouteInterceptor { req: SaRequest?, res: SaResponse?, handler: Any ->            SaRouter.match("/admin/**", "/admin", SaFunction {                // 如果不是静态页面, 则校验是否登录                if (handler.javaClass != ResourceHttpRequestHandler::class.java) {                    StpUtil.checkLogin()                }            })        }).addPathPatterns("/**")    }}